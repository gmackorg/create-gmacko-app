# Preview secrets template
# Variables: ${PR_NUMBER}, ${DATABASE_URL}, ${AUTH_SECRET}
# Note: In production, use external-secrets or sealed-secrets
apiVersion: v1
kind: Secret
metadata:
  name: gmacko-preview-env
  namespace: preview-pr-${PR_NUMBER}
  labels:
    app: gmacko-preview
    preview.gmacko.io/pr: "${PR_NUMBER}"
type: Opaque
stringData:
  DATABASE_URL: "${DATABASE_URL}"
  AUTH_SECRET: "${AUTH_SECRET}"
  # Add other secrets as needed via envsubst
  # AUTH_DISCORD_ID: "${AUTH_DISCORD_ID}"
  # AUTH_DISCORD_SECRET: "${AUTH_DISCORD_SECRET}"
